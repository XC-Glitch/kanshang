 <script src="tool-data.js"></script>
<script>
function doFilter() {
  const params = new URLSearchParams(location.search);
  const type = params.get("type");
  const q = params.get("q");

  let filtered = toolList;
  let title = "";

  if (type) {
    filtered = toolList.filter(i => i.type === type);
    title = "åˆ†ç±»ï¼š" + type;
  } else if (q) {
    filtered = toolList.filter(i =>
      i.name.includes(q) || i.desc.includes(q)
    );
    title = "æœç´¢ï¼š" + q;
  } else {
    title = "å…¨éƒ¨å·¥å…·";
  }

  document.getElementById("resultTitle").textContent = `${title}ï¼ˆå…± ${filtered.length} ä¸ªï¼‰`;
  const container = document.getElementById("cardContainer");
  container.innerHTML = "";

  if (filtered.length === 0) {
    container.innerHTML = `<div class="empty">æš‚æ— ç»“æœï¼Œæ¢ä¸ªå…³é”®è¯è¯•è¯•ï½</div>`;
    return;
  }

  filtered.forEach(item => {
    container.innerHTML += `
      <div class="tool-card">
        <h3>${item.name}</h3>
        <div class="desc">${item.desc}</div>
        <div class="stats">
          <span>ğŸ‘ï¸ ${item.view}</span>
          <span>ğŸ‘ ${item.like}</span>
        </div>
        <a href="${item.url}" target="_blank" class="go">å‰å¾€</a>
      </div>
    `;
  });
}

function goSearch() {
  const q = document.getElementById("searchInput").value.trim();
  if (q) location.href = `search.html?q=${encodeURIComponent(q)}`;
}

function goType(type) {
  location.href = `search.html?type=${encodeURIComponent(type)}`;
}

doFilter();
</script>